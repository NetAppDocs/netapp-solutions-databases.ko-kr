---
sidebar: sidebar 
permalink: automation/db-protection-getting-started.html 
keywords: Linux, RHEL Oracle19c, NFS, ONTAP 
summary: 이 페이지에서는 NetApp ONTAP 스토리지에 Oracle Data Protection을 자동으로 배포하는 방법을 설명합니다. 
---
= 시작하기
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
이 솔루션은 AWX/Tower 환경에서 실행되도록 설계되었습니다.



== AWX/타워

AWX/Tower 환경의 경우 ONTAP 클러스터 관리 및 Oracle 서버(IP 및 호스트 이름) 인벤토리를 만들고, 자격 증명을 만들고, NetApp Automation Github에서 Ansible 코드를 가져오는 프로젝트를 구성하고, 자동화를 시작하는 작업 템플릿을 만드는 과정을 안내합니다.

. 이 솔루션은 프라이빗 클라우드 시나리오(온프레미스에서 온프레미스로) 및 하이브리드 클라우드(온프레미스에서 퍼블릭 Cloud Volumes ONTAP 로)에서 실행되도록 설계되었습니다.
. 사용자 환경에 맞는 변수를 입력하고, 이를 복사하여 작업 템플릿의 추가 변수 필드에 붙여넣습니다.
. 추가 변수를 작업 템플릿에 추가한 후 자동화를 시작할 수 있습니다.
. 자동화는 세 단계(설정, Oracle 바이너리용 복제 일정, 데이터베이스, 로그, 로그용 복제 일정)로 실행되도록 설정되어 있으며, 네 번째 단계는 DR 사이트에서 데이터베이스를 복구하는 것입니다.
. CVO 데이터 보호에 필요한 키와 토큰을 얻기 위한 자세한 지침은 다음을 참조하세요.link:https://docs.netapp.com/us-en/netapp-solutions-dataops/automation/authentication-tokens.html["CVO 및 커넥터 배포를 위한 사전 요구 사항 수집"^]




== 요구 사항

[role="tabbed-block"]
====
.<strong class="big">온프레미스</strong>
--
[cols="3, 9"]
|===
| 환경 | 요구 사항 


.4+| *Ansible 환경* | AWX/타워 


| Ansible v.2.10 이상 


| 파이썬 3 


| Python 라이브러리 - netapp-lib - xmltodict - jmespath 


.3+| * ONTAP* | ONTAP 버전 9.8+ 


| 두 개의 데이터 집계 


| NFS vlan 및 ifgrp 생성됨 


.5+| *오라클 서버* | RHEL 7/8 


| 오라클 리눅스 7/8 


| NFS, 공개 및 선택적 관리를 위한 네트워크 인터페이스 


| 소스에 기존 Oracle 환경이 있고 대상(DR 사이트 또는 퍼블릭 클라우드)에 동일한 Linux 운영 체제가 있습니다. 
|===
--
.<strong class="big">CVO</strong>
--
[cols="3, 9"]
|===
| 환경 | 요구 사항 


.4+| *Ansible 환경* | AWX/타워 


| Ansible v.2.10 이상 


| 파이썬 3 


| Python 라이브러리 - netapp-lib - xmltodict - jmespath 


.3+| * ONTAP* | ONTAP 버전 9.8+ 


| 두 개의 데이터 집계 


| NFS vlan 및 ifgrp 생성됨 


.5+| *오라클 서버* | RHEL 7/8 


| 오라클 리눅스 7/8 


| NFS, 공개 및 선택적 관리를 위한 네트워크 인터페이스 


| 소스에 기존 Oracle 환경이 있고 대상(DR 사이트 또는 퍼블릭 클라우드)에 동일한 Linux 운영 체제가 있습니다. 


| Oracle EC2 인스턴스에 적절한 스왑 공간을 설정합니다. 기본적으로 일부 EC2 인스턴스는 0 스왑으로 배포됩니다. 


.4+| *클라우드 매니저/AWS* | AWS 액세스/비밀 키 


| NetApp 클라우드 관리자 계정 


| NetApp Cloud Manager 새로 고침 토큰 


| AWS 보안 그룹에 소스 클러스터 간 lifs 추가 
|===
--
====


== 자동화 세부 정보

[role="tabbed-block"]
====
.<strong class="big">온프레미스</strong>
--
이 자동화된 배포는 세 가지 별도 역할로 구성된 단일 Ansible 플레이북으로 설계되었습니다.  역할은 ONTAP, Linux 및 Oracle 구성을 위한 것입니다.  다음 표에서는 어떤 작업이 자동화되고 있는지 설명합니다.

[cols="3, 9"]
|===
| 플레이북 | 작업 


.5+| *온탭_셋업* | ONTAP 환경 사전 점검 


| 소스 클러스터에서 Intercluster LIF 생성(선택 사항) 


| 대상 클러스터에서 Intercluster LIF 생성(선택 사항) 


| 클러스터 및 SVM 피어링 생성 


| 대상 SnapMirror 생성 및 지정된 Oracle 볼륨 초기화 


.4+| *ora_replication_cg* | /etc/oratab에서 각 데이터베이스에 대한 백업 모드를 활성화합니다. 


| Oracle 바이너리 및 데이터베이스 볼륨의 스냅샷이 촬영되었습니다. 


| Snapmirror 업데이트됨 


| /etc/oratab에서 각 데이터베이스에 대한 백업 모드를 끕니다. 


.3+| *ora_복제_로그* | /etc/oratab에서 각 데이터베이스에 대한 현재 로그를 전환합니다. 


| Oracle Log 볼륨의 스냅샷이 촬영되었습니다. 


| Snapmirror 업데이트됨 


.5+| *ora_복구* | 스냅 SnapMirror 


| NFS를 활성화하고 대상의 Oracle 볼륨에 대한 연결 경로를 생성합니다. 


| DR Oracle 호스트 구성 


| Oracle 볼륨 마운트 및 확인 


| Oracle 데이터베이스 복구 및 시작 
|===
--
.<strong class="big">CVO</strong>
--
이 자동화된 배포는 세 가지 별도 역할로 구성된 단일 Ansible 플레이북으로 설계되었습니다.  역할은 ONTAP, Linux 및 Oracle 구성을 위한 것입니다.  다음 표에서는 어떤 작업이 자동화되고 있는지 설명합니다.

[cols="4, 9"]
|===
| 플레이북 | 작업 


.7+| *cvo_setup* | 환경 사전 점검 


| AWS 구성/AWS 액세스 키 ID/비밀 키/기본 리전 


| AWS 역할 생성 


| AWS에서 NetApp Cloud Manager Connector 인스턴스 생성 


| AWS에서 Cloud Volumes ONTAP (CVO) 인스턴스 생성 


| NetApp Cloud Manager에 온프레미스 Source ONTAP 클러스터 추가 


| 대상 SnapMirror 생성 및 지정된 Oracle 볼륨 초기화 


.4+| *ora_replication_cg* | /etc/oratab에서 각 데이터베이스에 대한 백업 모드를 활성화합니다. 


| Oracle 바이너리 및 데이터베이스 볼륨의 스냅샷이 촬영되었습니다. 


| Snapmirror 업데이트됨 


| /etc/oratab에서 각 데이터베이스에 대한 백업 모드를 끕니다. 


.3+| *ora_복제_로그* | /etc/oratab에서 각 데이터베이스에 대한 현재 로그를 전환합니다. 


| Oracle Log 볼륨의 스냅샷이 촬영되었습니다. 


| Snapmirror 업데이트됨 


.5+| *ora_복구* | 스냅 SnapMirror 


| NFS를 활성화하고 대상 CVO의 Oracle 볼륨에 대한 연결 경로를 생성합니다. 


| DR Oracle 호스트 구성 


| Oracle 볼륨 마운트 및 확인 


| Oracle 데이터베이스 복구 및 시작 
|===
--
====


== 기본 매개변수

자동화를 단순화하기 위해 필수 Oracle 매개변수 중 상당수를 기본값으로 미리 설정했습니다.  대부분의 배포에서는 기본 매개변수를 변경할 필요가 없습니다.  고급 사용자는 주의해서 기본 매개변수를 변경할 수 있습니다.  기본 매개변수는 기본 디렉토리 아래의 각 역할 폴더에 있습니다.



== 특허

Github 저장소에 명시된 라이선스 정보를 읽어보세요.  이 저장소의 콘텐츠에 액세스하거나, 다운로드하거나, 설치하거나, 사용함으로써 귀하는 명시된 라이선스 조건에 동의하는 것입니다.link:https://github.com/NetApp-Automation/na_oracle19c_deploy/blob/master/LICENSE.TXT["여기"^] .

이 저장소의 콘텐츠를 사용하여 파생 작품을 제작 및/또는 공유하는 데에는 특정 제한이 있음을 유의하세요.  이용약관을 꼭 읽어주세요.link:https://github.com/NetApp-Automation/na_oracle19c_deploy/blob/master/LICENSE.TXT["특허"^] 콘텐츠를 사용하기 전에.  모든 약관에 동의하지 않을 경우, 이 저장소의 콘텐츠에 접근하거나 다운로드하거나 사용하지 마세요.

준비가 되면 클릭하세요link:db-protection-awx-automation.html["자세한 AWX/타워 절차는 여기를 참조하세요."] .
