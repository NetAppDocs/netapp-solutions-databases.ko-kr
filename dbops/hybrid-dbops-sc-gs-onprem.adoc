---
sidebar: sidebar 
permalink: dbops/hybrid-dbops-sc-gs-onprem.html 
summary: 'NetApp SnapCenter 도구는 역할 기반 액세스 제어(RBAC)를 사용하여 사용자 리소스 액세스 및 권한 부여를 관리하고 SnapCenter 설치하면 미리 채워진 역할이 생성됩니다.  또한, 사용자의 필요나 애플리케이션에 따라 사용자 정의 역할을 생성할 수도 있습니다.' 
keywords: workflow, on premises, rbac, roles, permissions 
---
= 온프레미스에서 시작하기
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp SnapCenter 도구는 역할 기반 액세스 제어(RBAC)를 사용하여 사용자 리소스 액세스 및 권한 부여를 관리하고 SnapCenter 설치하면 미리 채워진 역할이 생성됩니다.  또한, 사용자의 필요나 애플리케이션에 따라 사용자 정의 역할을 생성할 수도 있습니다.



== 온프레미스



=== 1. SnapCenter 에서 데이터베이스 관리자 사용자 설정

SnapCenter 가 지원하는 각 데이터베이스 플랫폼에 대해 데이터베이스 백업, 복원 및/또는 재해 복구를 위한 전담 관리자 사용자 ID를 갖는 것이 합리적입니다.  하나의 ID를 사용해 모든 데이터베이스를 관리할 수도 있습니다.  테스트 사례와 데모에서는 Oracle과 SQL Server 각각에 대한 전담 관리자 사용자를 생성했습니다.

특정 SnapCenter 리소스는 SnapCenterAdmin 역할을 통해서만 프로비저닝할 수 있습니다.  그런 다음 다른 사용자 ID에 리소스를 할당하여 액세스할 수 있습니다.

사전 설치 및 구성된 온프레미스 SnapCenter 환경에서는 다음 작업이 이미 완료되었을 수 있습니다.  그렇지 않은 경우 다음 단계에 따라 데이터베이스 관리자 사용자를 만듭니다.

. Windows Active Directory에 관리자 사용자를 추가합니다.
. SnapCenterAdmin 역할이 부여된 ID를 사용하여 SnapCenter 에 로그인합니다.
. 설정 및 사용자 아래의 액세스 탭으로 이동한 다음 추가를 클릭하여 새 사용자를 추가합니다.  새로운 사용자 ID는 1단계에서 Windows Active Directory에 생성된 관리자 사용자에 연결됩니다.  .  필요에 따라 사용자에게 적절한 역할을 할당합니다.  해당되는 경우 관리자 사용자에게 리소스를 할당합니다.


image:snapctr-admin-users.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]



=== 2. SnapCenter 플러그인 설치 필수 조건

SnapCenter DB 호스트에서 실행되는 플러그인 에이전트를 사용하여 백업, 복원, 복제 및 기타 기능을 수행합니다.  플러그인 설치 및 기타 관리 기능을 위해 설정 및 자격 증명 탭에서 구성된 자격 증명을 통해 데이터베이스 호스트 및 데이터베이스에 연결합니다.  Linux나 Windows와 같은 대상 호스트 유형과 데이터베이스 유형에 따라 특정 권한 요구 사항이 있습니다.

SnapCenter 플러그인을 설치하기 전에 DB 호스트 자격 증명을 구성해야 합니다.  일반적으로 플러그인 설치를 위한 호스트 연결 자격 증명으로 DB 호스트의 관리자 사용자 계정을 사용합니다.  OS 기반 인증을 사용하여 데이터베이스 접근에 동일한 사용자 ID를 부여할 수도 있습니다.  반면, DB 관리 액세스를 위해 서로 다른 데이터베이스 사용자 ID를 사용하여 데이터베이스 인증을 채택할 수도 있습니다.  OS 기반 인증을 사용하기로 결정한 경우 OS 관리자 사용자 ID에 DB 액세스 권한이 부여되어야 합니다.  Windows 도메인 기반 SQL Server 설치의 경우, 도메인 관리자 계정을 사용하여 도메인 내의 모든 SQL Server를 관리할 수 있습니다.

SQL 서버용 Windows 호스트:

. 인증을 위해 Windows 자격 증명을 사용하는 경우 플러그인을 설치하기 전에 자격 증명을 설정해야 합니다.
. 인증을 위해 SQL Server 인스턴스를 사용하는 경우 플러그인을 설치한 후 자격 증명을 추가해야 합니다.
. 자격 증명을 설정하는 동안 SQL 인증을 활성화한 경우, 검색된 인스턴스나 데이터베이스에 빨간색 자물쇠 아이콘이 표시됩니다.  잠금 아이콘이 나타나면 인스턴스 또는 데이터베이스 자격 증명을 지정하여 인스턴스 또는 데이터베이스를 리소스 그룹에 성공적으로 추가해야 합니다.
. 다음 조건이 충족되는 경우 sysadmin 액세스 권한이 없는 RBAC 사용자에게 자격 증명을 할당해야 합니다.
+
** 자격 증명은 SQL 인스턴스에 할당됩니다.
** SQL 인스턴스 또는 호스트는 RBAC 사용자에게 할당됩니다.
** RBAC DB 관리자 사용자는 리소스 그룹 권한과 백업 권한을 모두 가지고 있어야 합니다.




Oracle용 Unix 호스트:

. sshd.conf를 편집하고 sshd 서비스를 다시 시작하여 루트 또는 루트가 아닌 사용자에 대해 비밀번호 기반 SSH 연결을 활성화해야 합니다.  AWS 인스턴스의 비밀번호 기반 SSH 인증은 기본적으로 꺼져 있습니다.
. 루트가 아닌 사용자가 플러그인 프로세스를 설치하고 시작할 수 있도록 sudo 권한을 구성합니다.  플러그인을 설치한 후 프로세스는 유효한 루트 사용자로 실행됩니다.
. 설치 사용자에 대한 Linux 인증 모드로 자격 증명을 생성합니다.
. Linux 호스트에 Java 1.8.x(64비트)를 설치해야 합니다.
. Oracle 데이터베이스 플러그인을 설치하면 Unix용 SnapCenter 플러그인도 설치됩니다.




=== 3. SnapCenter 호스트 플러그인 설치


NOTE: 클라우드 DB 서버 인스턴스에 SnapCenter 플러그인을 설치하기 전에 컴퓨팅 인스턴스 배포를 위한 관련 클라우드 섹션에 나열된 모든 구성 단계가 완료되었는지 확인하세요.

다음 단계에서는 SnapCenter 플러그인이 호스트에 설치된 상태에서 SnapCenter 에 데이터베이스 호스트를 추가하는 방법을 보여줍니다.  이 절차는 온프레미스 호스트와 클라우드 호스트를 모두 추가하는 데 적용됩니다.  다음 데모에서는 AWS에 있는 Windows 또는 Linux 호스트를 추가합니다.



==== SnapCenter VMware 글로벌 설정 구성

설정 > 글로벌 설정으로 이동합니다.  하이퍼바이저 설정에서 "모든 호스트에 대해 VM에 iSCSI 직접 연결 디스크 또는 NFS가 있음"을 선택하고 업데이트를 클릭합니다.

image:snapctr-vmware-global.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]



==== Windows 호스트 추가 및 호스트에 플러그인 설치

. SnapCenterAdmin 권한이 있는 사용자 ID로 SnapCenter 에 로그인합니다.
. 왼쪽 메뉴에서 호스트 탭을 클릭한 다음 추가를 클릭하여 호스트 추가 워크플로를 엽니다.
. 호스트 유형으로 Windows를 선택합니다. 호스트 이름은 호스트 이름이나 IP 주소가 될 수 있습니다.  호스트 이름은 SnapCenter 호스트에서 올바른 호스트 IP 주소로 확인되어야 합니다.  2단계에서 만든 호스트 자격 증명을 선택하세요.  설치할 플러그인 패키지로 Microsoft Windows와 Microsoft SQL Server를 선택합니다.
+
image:snapctr-add-windows-host-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 플러그인이 Windows 호스트에 설치되면 전체 상태가 "로그 디렉토리 구성"으로 표시됩니다.
+
image:snapctr-add-windows-host-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 호스트 이름을 클릭하여 SQL Server 로그 디렉터리 구성을 엽니다.
+
image:snapctr-add-windows-host-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. "SQL Server용 플러그인 구성"을 열려면 "로그 디렉토리 구성"을 클릭하세요.
+
image:snapctr-add-windows-host-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 찾아보기를 클릭하여 NetApp 스토리지를 검색하고 로그 디렉토리를 설정합니다. SnapCenter 이 로그 디렉토리를 사용하여 SQL Server 트랜잭션 로그 파일을 롤업합니다.  그런 다음 저장을 클릭합니다.
+
image:snapctr-add-windows-host-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+

NOTE: DB 호스트에 프로비저닝된 NetApp 스토리지를 검색하려면 6단계에서 CVO에 대한 예시로 설명한 대로 스토리지(온프레미스 또는 CVO)를 SnapCenter 에 추가해야 합니다.

. 로그 디렉토리가 구성된 후 Windows 호스트 플러그인 전체 상태가 실행 중으로 변경됩니다.
+
image:snapctr-add-windows-host-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 호스트를 데이터베이스 관리 사용자 ID에 할당하려면 설정 및 사용자 아래의 액세스 탭으로 이동한 후 데이터베이스 관리 사용자 ID(이 경우 호스트를 할당해야 하는 sqldba)를 클릭하고 저장을 클릭하여 호스트 리소스 할당을 완료합니다.
+
image:snapctr-add-windows-host-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+
image:snapctr-add-windows-host-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== Unix 호스트 추가 및 호스트에 플러그인 설치

. SnapCenterAdmin 권한이 있는 사용자 ID로 SnapCenter 에 로그인합니다.
. 왼쪽 메뉴에서 호스트 탭을 클릭하고 추가를 클릭하여 호스트 추가 워크플로를 엽니다.
. 호스트 유형으로 Linux를 선택하세요.  호스트 이름은 호스트 이름이거나 IP 주소일 수 있습니다.  하지만 호스트 이름은 SnapCenter 호스트에서 올바른 호스트 IP 주소로 확인되어야 합니다.  2단계에서 만든 호스트 자격 증명을 선택하세요.  호스트 자격 증명에는 sudo 권한이 필요합니다.  설치할 플러그인으로 Oracle Database를 선택하면 Oracle과 Linux 호스트 플러그인이 모두 설치됩니다.
+
image:snapctr-add-linux-host-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 추가 옵션을 클릭하고 "사전 설치 확인 건너뛰기"를 선택하세요.  사전 설치 검사를 건너뛸지 확인하라는 메시지가 표시됩니다.  예를 클릭한 다음 저장을 클릭합니다.
+
image:snapctr-add-linux-host-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 제출을 클릭하여 플러그인 설치를 시작하세요.  아래와 같이 지문을 확인하라는 메시지가 표시됩니다.
+
image:snapctr-add-linux-host-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. SnapCenter 호스트 검증 및 등록을 수행한 다음, 플러그인을 Linux 호스트에 설치합니다.  상태가 플러그인 설치 중에서 실행 중으로 변경되었습니다.
+
image:snapctr-add-linux-host-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 새로 추가된 호스트를 적절한 데이터베이스 관리 사용자 ID(이 경우 oradba)에 할당합니다.
+
image:snapctr-add-linux-host-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+
image:snapctr-add-linux-host-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





=== 4. 데이터베이스 리소스 검색

플러그인 설치가 성공적으로 완료되면 호스트의 데이터베이스 리소스를 즉시 검색할 수 있습니다.  왼쪽 메뉴에서 리소스 탭을 클릭하세요.  데이터베이스 플랫폼의 유형에 따라 데이터베이스, 리소스 그룹 등 다양한 뷰를 사용할 수 있습니다.  호스트의 리소스가 검색되어 표시되지 않으면 리소스 새로 고침 탭을 클릭해야 할 수도 있습니다.

image:snapctr-resources-ora.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

데이터베이스가 처음 발견되었을 때 전체 상태는 "보호되지 않음"으로 표시됩니다.  이전 스크린샷은 백업 정책으로 아직 보호되지 않은 Oracle 데이터베이스를 보여줍니다.

백업 구성이나 정책이 설정되고 백업이 실행되면 데이터베이스의 전체 상태에 백업 상태가 "백업 성공"으로 표시되고 마지막 백업의 타임스탬프가 표시됩니다.  다음 스크린샷은 SQL Server 사용자 데이터베이스의 백업 상태를 보여줍니다.

image:snapctr-resources-sql.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

데이터베이스 접근 자격 증명이 제대로 설정되지 않은 경우 빨간색 잠금 버튼은 데이터베이스에 접근할 수 없음을 나타냅니다.  예를 들어, Windows 자격 증명에 데이터베이스 인스턴스에 대한 시스템 관리자 액세스 권한이 없는 경우 빨간색 잠금을 해제하려면 데이터베이스 자격 증명을 재구성해야 합니다.

image:snapctr-add-windows-host-009.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

image:snapctr-add-windows-host-010.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

Windows 수준이나 데이터베이스 수준에서 적절한 자격 증명이 구성되면 빨간색 자물쇠가 사라지고 SQL Server 유형 정보가 수집되어 검토됩니다.

image:snapctr-add-windows-host-011.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]



=== 5. 스토리지 클러스터 피어링 및 DB 볼륨 복제 설정

퍼블릭 클라우드를 대상으로 온프레미스 데이터베이스 데이터를 보호하기 위해 온프레미스 ONTAP 클러스터 데이터베이스 볼륨은 NetApp SnapMirror 기술을 사용하여 클라우드 CVO에 복제됩니다.  복제된 대상 볼륨은 DEV/OPS 또는 재해 복구를 위해 복제될 수 있습니다.  다음의 고급 단계를 통해 클러스터 피어링과 DB 볼륨 복제를 설정할 수 있습니다.

. 온프레미스 클러스터와 CVO 클러스터 인스턴스 모두에서 클러스터 피어링을 위해 클러스터 간 LIF를 구성합니다.  이 단계는 ONTAP System Manger를 사용하여 수행할 수 있습니다.  기본 CVO 배포에는 클러스터 간 LIF가 자동으로 구성됩니다.
+
온프레미스 클러스터:

+
image:snapctr-cluster-replication-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

+
대상 CVO 클러스터:

+
image:snapctr-cluster-replication-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 클러스터 간 LIF가 구성되면 NetApp Cloud Manager에서 드래그 앤 드롭을 사용하여 클러스터 피어링 및 볼륨 복제를 설정할 수 있습니다.  보다link:hybrid-dbops-sc-gs-aws.html#aws-public-cloud["시작하기 - AWS 퍼블릭 클라우드"] 자세한 내용은.
+
또는 ONTAP System Manager를 사용하여 다음과 같이 클러스터 피어링 및 DB 볼륨 복제를 수행할 수 있습니다.

. ONTAP 시스템 관리자에 로그인합니다.  클러스터 > 설정으로 이동한 후 피어 클러스터를 클릭하여 클라우드의 CVO 인스턴스와 클러스터 피어링을 설정합니다.
+
image:snapctr-vol-snapmirror-000.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 볼륨 탭으로 이동합니다.  복제할 데이터베이스 볼륨을 선택하고 보호를 클릭합니다.
+
image:snapctr-vol-snapmirror-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 보호 정책을 비동기로 설정합니다.  대상 클러스터와 스토리지 SVM을 선택합니다.
+
image:snapctr-vol-snapmirror-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 볼륨이 소스와 대상 간에 동기화되었는지, 복제 관계가 정상인지 확인합니다.
+
image:snapctr-vol-snapmirror-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





=== 6. SnapCenter 에 CVO 데이터베이스 스토리지 SVM 추가

. SnapCenterAdmin 권한이 있는 사용자 ID로 SnapCenter 에 로그인합니다.
. 메뉴에서 스토리지 시스템 탭을 클릭한 다음 새로 만들기를 클릭하여 SnapCenter 에 복제된 대상 데이터베이스 볼륨을 호스팅하는 CVO 스토리지 SVM을 추가합니다.  스토리지 시스템 필드에 클러스터 관리 IP를 입력하고, 적절한 사용자 이름과 비밀번호를 입력합니다.
+
image:snapctr-add-cvo-svm-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 추가 저장소 구성 옵션을 열려면 '추가 옵션'을 클릭하세요.  플랫폼 필드에서 Cloud Volumes ONTAP 선택하고 보조를 선택한 다음 저장을 클릭합니다.
+
image:snapctr-add-cvo-svm-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. SnapCenter 데이터베이스 관리 사용자 ID에 스토리지 시스템을 할당합니다.<<3. SnapCenter 호스트 플러그인 설치>> .
+
image:snapctr-add-cvo-svm-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





=== 7. SnapCenter 에서 데이터베이스 백업 정책 설정

다음 절차에서는 전체 데이터베이스 또는 로그 파일 백업 정책을 만드는 방법을 보여줍니다.  그런 다음 정책을 구현하여 데이터베이스 리소스를 보호할 수 있습니다.  복구 지점 목표(RPO) 또는 복구 시간 목표(RTO)는 데이터베이스 및/또는 로그 백업 빈도를 결정합니다.



==== Oracle에 대한 전체 데이터베이스 백업 정책 만들기

. SnapCenter 에 데이터베이스 관리 사용자 ID로 로그인하고 설정을 클릭한 다음 정책을 클릭합니다.
+
image:snapctr-ora-policy-data-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 새로 만들기를 클릭하여 새 백업 정책 생성 워크플로를 시작하거나 수정할 기존 정책을 선택합니다.
+
image:snapctr-ora-policy-data-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 유형과 일정 빈도를 선택하세요.
+
image:snapctr-ora-policy-data-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 보존 설정을 지정합니다.  이는 전체 데이터베이스 백업 사본을 얼마나 많이 보관할지 정의합니다.
+
image:snapctr-ora-policy-data-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 클라우드의 보조 위치에 복제할 로컬 기본 스냅샷 백업을 푸시하려면 보조 복제 옵션을 선택하세요.
+
image:snapctr-ora-policy-data-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 실행 전후에 실행할 선택적 스크립트를 지정합니다.
+
image:snapctr-ora-policy-data-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 경우 백업 검증을 실행하세요.
+
image:snapctr-ora-policy-data-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-ora-policy-data-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== Oracle에 대한 데이터베이스 로그 백업 정책 만들기

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 설정을 클릭한 다음 정책을 클릭합니다.
. 새로 만들기를 클릭하여 새 백업 정책 생성 워크플로를 시작하거나 수정할 기존 정책을 선택합니다.
+
image:snapctr-ora-policy-log-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 유형과 일정 빈도를 선택하세요.
+
image:snapctr-ora-policy-log-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 로그 보존 기간을 설정합니다.
+
image:snapctr-ora-policy-log-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 퍼블릭 클라우드의 보조 위치로 복제를 활성화합니다.
+
image:snapctr-ora-policy-log-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 로그 백업 전/후에 실행할 선택적 스크립트를 지정합니다.
+
image:snapctr-ora-policy-log-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 검증 스크립트를 지정하세요.
+
image:snapctr-ora-policy-log-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-ora-policy-log-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== SQL에 대한 전체 데이터베이스 백업 정책 만들기

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 설정을 클릭한 다음 정책을 클릭합니다.
+
image:snapctr-sql-policy-data-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 새로 만들기를 클릭하여 새 백업 정책 생성 워크플로를 시작하거나 수정할 기존 정책을 선택합니다.
+
image:snapctr-sql-policy-data-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 옵션과 일정 빈도를 정의합니다.  가용성 그룹으로 구성된 SQL Server의 경우, 선호하는 백업 복제본을 설정할 수 있습니다.
+
image:snapctr-sql-policy-data-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 보존 기간을 설정합니다.
+
image:snapctr-sql-policy-data-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 클라우드의 보조 위치로 백업 사본 복제를 활성화합니다.
+
image:snapctr-sql-policy-data-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 작업 전이나 후에 실행할 선택적 스크립트를 지정합니다.
+
image:snapctr-sql-policy-data-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 검증을 실행하기 위한 옵션을 지정합니다.
+
image:snapctr-sql-policy-data-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-sql-policy-data-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== SQL에 대한 데이터베이스 로그 백업 정책을 만듭니다.

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 설정 > 정책을 클릭한 다음 새로 만들기를 클릭하여 새 정책 생성 워크플로를 시작합니다.
+
image:snapctr-sql-policy-log-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 로그 백업 옵션과 일정 빈도를 정의합니다.  가용성 그룹으로 구성된 SQL Server의 경우, 선호하는 백업 복제본을 설정할 수 있습니다.
+
image:snapctr-sql-policy-log-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. SQL 서버 데이터 백업 정책은 로그 백업 보존 기간을 정의합니다. 여기서는 기본값을 사용합니다.
+
image:snapctr-sql-policy-log-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 클라우드에서 보조 저장소로 로그 백업 복제를 활성화합니다.
+
image:snapctr-sql-policy-log-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 작업 전이나 후에 실행할 선택적 스크립트를 지정합니다.
+
image:snapctr-sql-policy-log-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-sql-policy-log-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





=== 8. 데이터베이스를 보호하기 위한 백업 정책 구현

SnapCenter 서버에 호스팅된 여러 데이터베이스, 동일한 스토리지 볼륨을 공유하는 데이터베이스, 비즈니스 애플리케이션을 지원하는 여러 데이터베이스 등과 같이 데이터베이스 리소스를 논리적으로 그룹화하여 리소스 그룹을 사용하여 데이터베이스를 백업합니다.  단일 데이터베이스를 보호하면 자체 리소스 그룹이 생성됩니다.  다음 절차에서는 섹션 7에서 만든 백업 정책을 구현하여 Oracle 및 SQL Server 데이터베이스를 보호하는 방법을 보여줍니다.



==== Oracle의 전체 백업을 위한 리소스 그룹 생성

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 리소스 탭으로 이동합니다.  보기 드롭다운 목록에서 데이터베이스 또는 리소스 그룹을 선택하여 리소스 그룹 생성 워크플로를 시작합니다.
+
image:snapctr-ora-rgroup-full-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 리소스 그룹의 이름과 태그를 제공합니다.  스냅샷 복사본에 대한 명명 형식을 정의하고 중복된 보관 로그 대상을 구성한 경우 이를 우회할 수 있습니다.
+
image:snapctr-ora-rgroup-full-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 리소스 그룹에 데이터베이스 리소스를 추가합니다.
+
image:snapctr-ora-rgroup-full-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 드롭다운 목록에서 섹션 7에서 만든 전체 백업 정책을 선택합니다.
+
image:snapctr-ora-rgroup-full-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 백업 일정을 구성하려면 (+) 기호를 클릭하세요.
+
image:snapctr-ora-rgroup-full-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 로케이터 로드를 클릭하여 소스 및 대상 볼륨을 로드합니다.
+
image:snapctr-ora-rgroup-full-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 경우 이메일 알림을 위해 SMTP 서버를 구성하세요.
+
image:snapctr-ora-rgroup-full-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-ora-rgroup-full-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== Oracle 로그 백업을 위한 리소스 그룹 생성

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 리소스 탭으로 이동합니다.  보기 드롭다운 목록에서 데이터베이스 또는 리소스 그룹을 선택하여 리소스 그룹 생성 워크플로를 시작합니다.
+
image:snapctr-ora-rgroup-log-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 리소스 그룹의 이름과 태그를 제공합니다.  스냅샷 복사본에 대한 명명 형식을 정의하고 중복된 보관 로그 대상을 구성한 경우 이를 우회할 수 있습니다.
+
image:snapctr-ora-rgroup-log-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 리소스 그룹에 데이터베이스 리소스를 추가합니다.
+
image:snapctr-ora-rgroup-log-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 드롭다운 목록에서 섹션 7에서 만든 로그 백업 정책을 선택합니다.
+
image:snapctr-ora-rgroup-log-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 백업 일정을 구성하려면 (+) 기호를 클릭하세요.
+
image:snapctr-ora-rgroup-log-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 검증이 구성된 경우 여기에 표시됩니다.
+
image:snapctr-ora-rgroup-log-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 경우 이메일 알림을 위해 SMTP 서버를 구성하세요.
+
image:snapctr-ora-rgroup-log-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-ora-rgroup-log-008.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== SQL Server의 전체 백업을 위한 리소스 그룹 만들기

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 리소스 탭으로 이동합니다.  보기 드롭다운 목록에서 데이터베이스 또는 리소스 그룹을 선택하여 리소스 그룹 생성 워크플로를 시작합니다.  리소스 그룹의 이름과 태그를 제공합니다.  스냅샷 복사본에 대한 명명 형식을 정의할 수 있습니다.
+
image:snapctr-sql-rgroup-full-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업할 데이터베이스 리소스를 선택하세요.
+
image:snapctr-sql-rgroup-full-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 섹션 7에서 만든 전체 SQL 백업 정책을 선택합니다.
+
image:snapctr-sql-rgroup-full-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업에 대한 정확한 타이밍과 빈도를 추가하세요.
+
image:snapctr-sql-rgroup-full-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 검증을 수행하려면 보조 백업에 대한 검증 서버를 선택하세요.  로드 로케이터를 클릭하여 보조 저장소 위치를 채웁니다.
+
image:snapctr-sql-rgroup-full-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 경우 이메일 알림을 위해 SMTP 서버를 구성하세요.
+
image:snapctr-sql-rgroup-full-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-sql-rgroup-full-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





==== SQL Server의 로그 백업을 위한 리소스 그룹 생성

. 데이터베이스 관리 사용자 ID로 SnapCenter 에 로그인하고 리소스 탭으로 이동합니다.  보기 드롭다운 목록에서 데이터베이스 또는 리소스 그룹을 선택하여 리소스 그룹 생성 워크플로를 시작합니다.  리소스 그룹의 이름과 태그를 제공합니다.  스냅샷 복사본에 대한 명명 형식을 정의할 수 있습니다.
+
image:snapctr-sql-rgroup-log-001.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업할 데이터베이스 리소스를 선택하세요.
+
image:snapctr-sql-rgroup-log-002.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 섹션 7에서 만든 SQL 로그 백업 정책을 선택합니다.
+
image:snapctr-sql-rgroup-log-003.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업에 대한 정확한 타이밍과 빈도를 추가하세요.
+
image:snapctr-sql-rgroup-log-004.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 백업 검증을 수행하려면 보조 백업에 대한 검증 서버를 선택하세요.  로드 로케이터를 클릭하여 보조 저장소 위치를 채웁니다.
+
image:snapctr-sql-rgroup-log-005.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 원하는 경우 이메일 알림을 위해 SMTP 서버를 구성하세요.
+
image:snapctr-sql-rgroup-log-006.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

. 요약.
+
image:snapctr-sql-rgroup-log-007.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]





=== 9. 백업 검증

데이터베이스 리소스를 보호하기 위해 데이터베이스 백업 리소스 그룹이 생성된 후, 백업 작업은 미리 정의된 일정에 따라 실행됩니다.  모니터 탭에서 작업 실행 상태를 확인하세요.

image:snapctr-job-status-sql.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

리소스 탭으로 이동하여 데이터베이스 이름을 클릭하여 데이터베이스 백업의 세부 정보를 보고, 로컬 복사본과 미러 복사본 간을 전환하여 스냅샷 백업이 퍼블릭 클라우드의 보조 위치에 복제되었는지 확인합니다.

image:snapctr-job-status-ora.png["입력/출력 대화 상자 또는 서면 내용을 나타내는 그림"]

이 시점에서 클라우드의 데이터베이스 백업 사본은 개발/테스트 프로세스를 실행하거나 기본 장애 발생 시 재해 복구를 위해 복제할 준비가 됩니다.
